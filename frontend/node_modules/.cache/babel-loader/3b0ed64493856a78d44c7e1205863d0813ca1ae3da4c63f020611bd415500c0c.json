{"ast":null,"code":"import _taggedTemplateLiteral from\"/workspace/AEGT/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useState}from'react';import styled from'styled-components';import{Wallet,Loader}from'lucide-react';import useTonConnect from'../hooks/useTonConnect';import{useAuth}from'../hooks/useAuth';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const WalletLoginContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 16px;\\n  padding: 24px;\\n  background: rgba(255, 255, 255, 0.05);\\n  border-radius: 16px;\\n  border: 1px solid rgba(255, 255, 255, 0.1);\\n\"])));const WalletButton=styled.button(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 12px;\\n  padding: 16px 24px;\\n  background: linear-gradient(135deg, #0088cc, #0066aa);\\n  color: white;\\n  border: none;\\n  border-radius: 12px;\\n  font-size: 16px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n  min-height: 56px;\\n\\n  &:hover:not(:disabled) {\\n    background: linear-gradient(135deg, #0099dd, #0077bb);\\n    transform: translateY(-2px);\\n  }\\n\\n  &:disabled {\\n    opacity: 0.6;\\n    cursor: not-allowed;\\n    transform: none;\\n  }\\n\"])));const ConnectButton=styled(WalletButton)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  background: linear-gradient(135deg, #00aa44, #008833);\\n  \\n  &:hover:not(:disabled) {\\n    background: linear-gradient(135deg, #00bb55, #009944);\\n  }\\n\"])));const WalletInfo=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 8px;\\n  padding: 16px;\\n  background: rgba(0, 0, 0, 0.2);\\n  border-radius: 12px;\\n\"])));const WalletAddress=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-family: 'Courier New', monospace;\\n  font-size: 14px;\\n  color: #00ff88;\\n  word-break: break-all;\\n\"])));const StatusText=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font-size: 14px;\\n  color: rgba(255, 255, 255, 0.7);\\n\"])));const OrDivider=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 16px;\\n  margin: 8px 0;\\n  \\n  &::before,\\n  &::after {\\n    content: '';\\n    flex: 1;\\n    height: 1px;\\n    background: rgba(255, 255, 255, 0.2);\\n  }\\n  \\n  span {\\n    color: rgba(255, 255, 255, 0.5);\\n    font-size: 14px;\\n  }\\n\"])));const WalletLogin=_ref=>{let{onWalletLogin,showConnectOption=false}=_ref;const{isConnected,walletAddress,isConnecting,connectWallet,connectWalletToAccount}=useTonConnect();const{user}=useAuth();const[isAuthenticating,setIsAuthenticating]=useState(false);const handleWalletLogin=async()=>{try{setIsAuthenticating(true);const result=await connectWallet();if(onWalletLogin){onWalletLogin(result);}}catch(error){console.error('Wallet login failed:',error);}finally{setIsAuthenticating(false);}};const handleConnectToAccount=async()=>{try{setIsAuthenticating(true);await connectWalletToAccount();}catch(error){console.error('Wallet connection failed:',error);}finally{setIsAuthenticating(false);}};if(isConnected&&walletAddress){return/*#__PURE__*/_jsxs(WalletLoginContainer,{children:[/*#__PURE__*/_jsxs(WalletInfo,{children:[/*#__PURE__*/_jsx(StatusText,{children:\"\\u2705 Wallet Connected\"}),/*#__PURE__*/_jsx(WalletAddress,{children:walletAddress})]}),showConnectOption&&user&&!user.tonWalletAddress&&/*#__PURE__*/_jsx(ConnectButton,{onClick:handleConnectToAccount,disabled:isAuthenticating,children:isAuthenticating?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader,{size:20,className:\"animate-spin\"}),\"Connecting to Account...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Wallet,{size:20}),\"Connect to Current Account\"]})})]});}return/*#__PURE__*/_jsxs(WalletLoginContainer,{children:[/*#__PURE__*/_jsx(WalletButton,{onClick:handleWalletLogin,disabled:isConnecting||isAuthenticating,children:isConnecting||isAuthenticating?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader,{size:20,className:\"animate-spin\"}),isConnecting?'Connecting Wallet...':'Authenticating...']}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Wallet,{size:20}),\"Login with TON Wallet\"]})}),showConnectOption&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(OrDivider,{children:/*#__PURE__*/_jsx(\"span\",{children:\"or\"})}),/*#__PURE__*/_jsx(StatusText,{style:{textAlign:'center'},children:\"Connect your TON wallet to enable crypto payments and receive airdrops\"})]})]});};export default WalletLogin;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}